<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="description"
        content="A high-level introduction to the Coucbhase Server product."/>
  <meta name="keywords" content=""/>
  <meta name="product" content="server"/>
  <meta name="version" content="0.5"/>

  <title>What&#39;s SQL++?</title>
  <meta name="description" content="">

  <style>
    .section-nav {
      display: none !important;
    }
  </style>
</head>


  <body>

    <header class="site-header">

</header>

  <section class="body"> 
    <div class="page-content">
      <ul></ul>
      <div class="wrapper">
        
<p>The SET statement can be used to override some cluster-wide configuration parameters for a specific request:</p>

<pre><code>      SET &lt;IDENTIFIER&gt; &lt;STRING_LITERAL&gt;
</code></pre>

<p>As parameter identifiers are qualified names (containing a ‘.’) they have to be escaped using backticks (``).
Note that changing query parameters will not affect query correctness but only impact performance
characteristics, such as response time and throughput.</p>

<h2 id="a-idparallelismparameterparallelism-parametera"><a id="Parallelism_parameter">Parallelism parameter</a></h2>
<p>The system can execute each request using multiple cores on multiple machines (a.k.a., partitioned parallelism)
in a cluster. A user can manually specify the maximum execution parallelism for a request to scale it up and down
using the following parameter:</p>

<ul>
  <li>
    <p><strong>compiler.parallelism</strong>: the maximum number of CPU cores can be used to process a query.
There are three cases of the value <em>p</em> for compiler.parallelism:</p>

    <ul>
      <li>
        <p><em>p</em> &lt; 0 or <em>p</em> &gt; the total number of cores in a cluster:  the system will use all available cores in the
cluster;</p>
      </li>
      <li>
        <p><em>p</em> = 0 (the default):  the system will use the storage parallelism (the number of partitions of stored datasets)
as the maximum parallelism for query processing;</p>
      </li>
      <li>
        <p>all other cases:  the system will use the user-specified number as the maximum number of CPU cores to use for
executing the query.</p>
      </li>
    </ul>
  </li>
</ul>

<h2 id="a-idmemoryparametersmemory-parametersa"><a id="Memory_parameters">Memory parameters</a></h2>
<p>In the system, each blocking runtime operator such as join, group-by and order-by
works within a fixed memory budget, and can gracefully spill to disks if
the memory budget is smaller than the amount of data they have to hold.
A user can manually configure the memory budget of those operators within a query.
The supported configurable memory parameters are:</p>

<ul>
  <li>
    <p><strong>compiler.groupmemory</strong>: the memory budget that each parallel group-by operator instance can use;
32MB is the default budget.</p>
  </li>
  <li>
    <p><strong>compiler.sortmemory</strong>: the memory budget that each parallel sort operator instance can use;
32MB is the default budget.</p>
  </li>
  <li>
    <p><strong>compiler.joinmemory</strong>: the memory budget that each parallel hash join operator instance can use;
32MB is the default budget.</p>
  </li>
</ul>

<p>For each memory budget value, you can use a 64-bit integer value
with a 1024-based binary unit suffix (e.g., B, KB, MB, GB).
If there is no user-provided suffix, “B” is the default suffix. See the following examples.</p>

<h5 id="example">Example</h5>

<pre><code>SET `compiler.groupmemory` "64MB"

SELECT msg.authorId, COUNT(*)
FROM GleambookMessages msg
GROUP BY msg.authorId;
</code></pre>

<h5 id="example-1">Example</h5>

<pre><code>SET `compiler.sortmemory` "67108864"

SELECT VALUE user
FROM GleambookUsers AS user
ORDER BY ARRAY_LENGTH(user.friendIds) DESC;
</code></pre>

<h5 id="example-2">Example</h5>

<pre><code>SET `compiler.joinmemory` "132000KB"

SELECT u.name AS uname, m.message AS message
FROM GleambookUsers u JOIN GleambookMessages m ON m.authorId = u.id;
</code></pre>


      
      </div>
    </div>
  <script>
     /**
     * HACK: To keep the markdown tables styles after ingestion we need to wrap the ouput in <div class="table"></div>
     */
    var tables = document.getElementsByTagName("table");
    var j = tables.length - 1;
    while (j >= 0) {
      var parent = tables.item(j).parentNode;
      var table = tables.item(j);
      var wrapper = document.createElement('div');
      wrapper.className = 'table';
      parent.insertBefore(wrapper, table);
      wrapper.appendChild(table);
      j--;
    }
  </script>
  </section>
    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading"></h2>
      <div class="footer-col footer-col-3">
        <p></p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
